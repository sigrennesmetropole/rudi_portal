{
	"openapi": "3.0.0",
	"info": {
		"description": "API Public Strukture Rudi",
		"version": "0.0.1",
		"title": "rudi-strukture-api",
		"termsOfService": "http://swagger.io/terms/",
		"contact": {
			"email": "rudi@datarennes.fr"
		},
		"license": {
			"name": "Apache 2.0",
			"url": "http://www.apache.org/licenses/LICENSE-2.0.html"
		}
	},
	"servers": [
		{
			"url": "/{basePath}",
			"description": "Rudi Strukture API",
			"variables": {
				"basePath": {
					"default": "strukture/v1"
				}
			}
		}
	],
	"tags": [
		{
			"name": "administration",
			"description": "Services d'administration"
		},
		{
			"name": "strukture",
			"description": "Services Strukture"
		},
		{
			"name": "providers",
			"description": "Services Providers"
		},
		{
			"name": "producers",
			"description": "Services Producers"
		},
		{
			"name": "organization",
			"description": "Services Organization"
		},
		{
			"name": "miscellaneous",
			"description": "Services divers"
		}
	],
	"paths": {
		"/application-information": {
			"get": {
				"tags": [
					"miscellaneous"
				],
				"summary": "Récupération de la version applicative",
				"description": "Récupération d'information sur la version de l'application",
				"operationId": "getApplicationInformation",
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/AppInfo"
								}
							}
						}
					}
				}
			}
		},
		"/healthCheck": {
			"get": {
				"tags": [
					"miscellaneous"
				],
				"summary": "Test de vie de l'application'",
				"description": "Test de vie de l'application",
				"operationId": "checkHealth",
				"responses": {
					"200": {
						"description": "OK"
					}
				}
			}
		},
		"/providers": {
			"get": {
				"tags": [
					"providers"
				],
				"summary": "Collection de fournisseurs",
				"description": "Retourne une liste de fournisseurs",
				"operationId": "searchProviders",
				"parameters": [
					{
						"in": "query",
						"name": "code",
						"description": "Tout ou partie d'un code de fournisseur",
						"required": false,
						"schema": {
							"type": "string"
						}
					},
					{
						"in": "query",
						"name": "libelle",
						"description": "Tout ou partie d'un libellé de fournisseur",
						"required": false,
						"schema": {
							"type": "string"
						}
					},
					{
						"in": "query",
						"name": "dateDebut",
						"description": "Date de debut d'activité",
						"schema": {
							"type": "string",
							"format": "date-time"
						}
					},
					{
						"in": "query",
						"name": "dateFin",
						"description": "Date de fin d'activité",
						"schema": {
							"type": "string",
							"format": "date-time"
						}
					},
					{
						"in": "query",
						"name": "nodeProviderUuid",
						"description": "UUID d'un nom fournisseur",
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					},
					{
						"in": "query",
						"name": "full",
						"description": "Permet d'indiquer si l'on souhaite récupérer les noeuds et les adresses",
						"required": false,
						"schema": {
							"type": "boolean"
						}
					},
					{
						"in": "query",
						"name": "offset",
						"description": "Index de début",
						"required": false,
						"schema": {
							"type": "integer",
							"format": "int32"
						}
					},
					{
						"in": "query",
						"name": "limit",
						"description": "Nombre de résultats à retourner",
						"required": false,
						"schema": {
							"type": "integer",
							"format": "int32"
						}
					},
					{
						"in": "query",
						"name": "order",
						"required": false,
						"schema": {
							"type": "string",
							"description": "liste des tris à réaliser. Exemple :  code,-libelle"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/ProviderPageResult"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"post": {
				"tags": [
					"providers"
				],
				"summary": "Ajout d'un nouveau fournisseur",
				"description": "Permet d'ajouter un nouveau fournisseur",
				"operationId": "createProvider",
				"requestBody": {
					"description": "info fournisseur",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "rudi-strukture-model.json#/components/schemas/Provider"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/Provider"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"put": {
				"tags": [
					"providers"
				],
				"summary": "Mise à jour d'un fournisseur",
				"description": "Mise à jour d'un fournisseur",
				"operationId": "updateProvider",
				"requestBody": {
					"description": "info fournisseur",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "rudi-strukture-model.json#/components/schemas/Provider"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/Provider"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			}
		},
		"/providers/{providerUuid}": {
			"get": {
				"tags": [
					"providers"
				],
				"summary": "Retourne un fournisseur",
				"description": "Retourne un fournisseur",
				"operationId": "getProvider",
				"parameters": [
					{
						"name": "providerUuid",
						"in": "path",
						"description": "uuid pour la récupération d'un element",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					},
					{
						"in": "query",
						"name": "full",
						"description": "Permet d'indiquer si l'on souhaite récupérer les noeuds et les adresses",
						"required": false,
						"schema": {
							"type": "boolean"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/Provider"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"delete": {
				"tags": [
					"providers"
				],
				"summary": "Suppression d'un fournisseur",
				"description": "Suppression d'un fournisseur",
				"operationId": "deleteProvider",
				"parameters": [
					{
						"name": "providerUuid",
						"in": "path",
						"description": "info uuid",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK"
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			}
		},
		"/providers/{providerUuid}/addresses": {
			"get": {
				"tags": [
					"providers"
				],
				"summary": "Collection d'adresses",
				"description": "Collection d'adresses",
				"operationId": "getAddresses",
				"parameters": [
					{
						"name": "providerUuid",
						"in": "path",
						"description": "providerUuid provider",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"type": "array",
									"items": {
										"$ref": "rudi-strukture-model.json#/components/schemas/AbstractAddress"
									}
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"post": {
				"tags": [
					"providers"
				],
				"summary": "Ajout d'une adresse",
				"description": "Ajout d'une adresse",
				"operationId": "createAddress",
				"parameters": [
					{
						"name": "providerUuid",
						"in": "path",
						"description": "providerUuid provider",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"requestBody": {
					"description": "info address",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "rudi-strukture-model.json#/components/schemas/AbstractAddress"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/AbstractAddress"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"put": {
				"tags": [
					"providers"
				],
				"summary": "Mise à jour d'une adresse",
				"description": "Mise à jour d'une adresse",
				"operationId": "updateAddress",
				"parameters": [
					{
						"name": "providerUuid",
						"in": "path",
						"description": "providerUuid provider",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"requestBody": {
					"description": "info address",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "rudi-strukture-model.json#/components/schemas/AbstractAddress"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/AbstractAddress"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			}
		},
		"/providers/{providerUuid}/addresses/{addressUuid}": {
			"get": {
				"tags": [
					"providers"
				],
				"summary": "Retourne une adresse",
				"description": "Retourne une adresse",
				"operationId": "getAddress",
				"parameters": [
					{
						"name": "providerUuid",
						"in": "path",
						"description": "uuid provider",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					},
					{
						"name": "addressUuid",
						"in": "path",
						"description": "uuid to get address",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/AbstractAddress"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"delete": {
				"tags": [
					"providers"
				],
				"summary": "Suppression d'une adresse",
				"description": "Suppression d'une adresse",
				"operationId": "deleteAddress",
				"parameters": [
					{
						"name": "providerUuid",
						"in": "path",
						"description": "uuid provider",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					},
					{
						"name": "addressUuid",
						"in": "path",
						"description": "uuid address",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK"
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			}
		},
		"/providers/{providerUuid}/nodes": {
			"get": {
				"tags": [
					"providers"
				],
				"summary": "Collection de noeuds",
				"description": "Retourne une collection de noeuds",
				"operationId": "getNodes",
				"parameters": [
					{
						"name": "providerUuid",
						"in": "path",
						"description": "uuid provider",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"type": "array",
									"items": {
										"$ref": "rudi-strukture-model.json#/components/schemas/NodeProvider"
									}
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"post": {
				"tags": [
					"providers"
				],
				"summary": "Ajout d'un noeud",
				"description": "Ajout d'un noeud",
				"operationId": "createNode",
				"parameters": [
					{
						"name": "providerUuid",
						"in": "path",
						"description": "uuid provider",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"requestBody": {
					"description": "info node",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "rudi-strukture-model.json#/components/schemas/NodeProvider"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/NodeProvider"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"put": {
				"tags": [
					"providers"
				],
				"summary": "Mise à jour d'un noeud",
				"description": "Mise à jour d'un noeud",
				"operationId": "updateNode",
				"parameters": [
					{
						"name": "providerUuid",
						"in": "path",
						"description": "uuid provider",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"requestBody": {
					"description": "info node",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "rudi-strukture-model.json#/components/schemas/NodeProvider"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/NodeProvider"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			}
		},
		"/providers/{providerUuid}/nodes/{nodeUuid}": {
			"get": {
				"tags": [
					"providers"
				],
				"summary": "Retourne un noeud",
				"description": "Retourne un noeud",
				"operationId": "getNode",
				"parameters": [
					{
						"name": "providerUuid",
						"in": "path",
						"description": "uuid provider",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					},
					{
						"name": "nodeUuid",
						"in": "path",
						"description": "uuid node",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/NodeProvider"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"delete": {
				"tags": [
					"providers"
				],
				"summary": "Suppression d'un noeud",
				"description": "Suppression d'un noeud",
				"operationId": "deleteNode",
				"parameters": [
					{
						"name": "providerUuid",
						"in": "path",
						"description": "uuid provider",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						},
						"example": "5596b5b2-b227-4c74-a9a1-719e7c1008c7"
					},
					{
						"name": "nodeUuid",
						"in": "path",
						"description": "uuid noeud",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						},
						"example": "LOGO"
					}
				],
				"responses": {
					"200": {
						"description": "OK"
					},
					"404": {
						"description": "Le fournisseur est inconnu."
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"patch": {
				"tags": [
					"providers"
				],
				"summary": "Change la date du dernier moissonnage réussi du nœud fournisseur",
				"description": "Change la date du dernier moissonnage réussi du nœud fournisseur",
				"operationId": "patchNode",
				"parameters": [
					{
						"name": "providerUuid",
						"in": "path",
						"description": "UUID du fournisseur",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					},
					{
						"name": "nodeUuid",
						"in": "path",
						"description": "UUID du nœud fournisseur",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					},
					{
						"name": "lastHarvestingDate",
						"in": "query",
						"description": "Date du dernier moissonnage réussi",
						"required": true,
						"schema": {
							"$ref": "#/components/schemas/RudiDate"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/NodeProvider"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			}
		},
		"/providers/{providerUuid}/media/{kindOfData}": {
			"get": {
				"tags": [
					"providers"
				],
				"summary": "Téléchargement du média d'un fournisseur",
				"description": "Retourne le média du fournisseur, pour le type de média demandé (logo par exemple).",
				"operationId": "downloadProviderMediaByType",
				"parameters": [
					{
						"in": "path",
						"name": "providerUuid",
						"description": "Identifiant du fournisseur",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					},
					{
						"in": "path",
						"name": "kindOfData",
						"description": "Type de média",
						"required": true,
						"schema": {
							"$ref": "KindOfData"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Retourne le logo du fournisseur",
						"content": {
							"application/octet-stream": {
								"schema": {
									"type": "string",
									"format": "binary"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"post": {
				"tags": [
					"providers"
				],
				"summary": "Ajout ou modification d'un média pour un fournisseur",
				"description": "Upload le média du fournisseur, pour le type de média demandé (logo par exemple).",
				"operationId": "uploadProviderMediaByType",
				"parameters": [
					{
						"in": "path",
						"name": "providerUuid",
						"description": "Identifiant du fournisseur",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						},
						"example": "5596b5b2-b227-4c74-a9a1-719e7c1008c7"
					},
					{
						"in": "path",
						"name": "kindOfData",
						"description": "Type de média",
						"required": true,
						"schema": {
							"$ref": "KindOfData"
						},
						"example": "LOGO"
					}
				],
				"requestBody": {
					"content": {
						"application/octet-stream": {
							"schema": {
								"type": "string",
								"format": "binary"
							}
						}
					}
				},
				"responses": {
					"204": {
						"description": "Le média du fournisseur a été créé ou mis à jour avec succès."
					},
					"400": {
						"description": "La requête est incorrecte et doit être corrigée avant de réessayer."
					},
					"500": {
						"description": "Erreur interne du serveur. Contacter un développeur pour avoir plus d'informations sur la cause de l'erreur."
					}
				}
			},
			"delete": {
				"tags": [
					"providers"
				],
				"summary": "Suppression d'un média pour un fournisseur",
				"description": "Supprime le média d'un fournisseur, pour le type de média demandé (logo par exemple).",
				"operationId": "deleteProviderMediaByType",
				"parameters": [
					{
						"in": "path",
						"name": "providerUuid",
						"description": "Identifiant du fournisseur",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						},
						"example": "5596b5b2-b227-4c74-a9a1-719e7c1008c7"
					},
					{
						"in": "path",
						"name": "kindOfData",
						"description": "Type de média",
						"required": true,
						"schema": {
							"$ref": "KindOfData"
						},
						"example": "LOGO"
					}
				],
				"responses": {
					"204": {
						"description": "Le média du fournisseur a été supprimé avec succès."
					},
					"400": {
						"description": "La requête est incorrecte et doit être corrigée avant de réessayer."
					},
					"500": {
						"description": "Erreur interne du serveur. Contacter un développeur pour avoir plus d'informations sur la cause de l'erreur."
					}
				}
			}
		},
		"/producers/{producerUuid}/media/{kindOfData}": {
			"get": {
				"tags": [
					"producers"
				],
				"summary": "Téléchargement du média d'un producteur",
				"description": "Retourne le média du producteur, pour le type de média demandé (logo par exemple).",
				"operationId": "downloadProducerMediaByType",
				"parameters": [
					{
						"in": "path",
						"name": "producerUuid",
						"description": "Identifiant du producteur",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					},
					{
						"in": "path",
						"name": "kindOfData",
						"description": "Type de média",
						"required": true,
						"schema": {
							"$ref": "KindOfData"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Retourne le logo du producteur",
						"content": {
							"application/octet-stream": {
								"schema": {
									"type": "string",
									"format": "binary"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"post": {
				"tags": [
					"producers"
				],
				"summary": "Ajout ou modification d'un média pour un producteur",
				"description": "Upload le média d'un producteur, pour le type de média demandé (logo par exemple).",
				"operationId": "uploadProducerMediaByType",
				"parameters": [
					{
						"in": "path",
						"name": "producerUuid",
						"description": "Identifiant du producteur",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						},
						"example": "5596b5b2-b227-4c74-a9a1-719e7c1008c7"
					},
					{
						"in": "path",
						"name": "kindOfData",
						"description": "Type de média",
						"required": true,
						"schema": {
							"$ref": "KindOfData"
						},
						"example": "LOGO"
					}
				],
				"requestBody": {
					"content": {
						"application/octet-stream": {
							"schema": {
								"type": "string",
								"format": "binary"
							}
						}
					}
				},
				"responses": {
					"204": {
						"description": "Le média du producteur a été créé ou mis à jour avec succès."
					},
					"400": {
						"description": "La requête est incorrecte et doit être corrigée avant de réessayer."
					},
					"500": {
						"description": "Erreur interne du serveur. Contacter un développeur pour avoir plus d'informations sur la cause de l'erreur."
					}
				}
			},
			"delete": {
				"tags": [
					"producers"
				],
				"summary": "Suppression d'un média pour un producteur",
				"description": "Supprime le média d'un producteur, pour le type de média demandé (logo par exemple).",
				"operationId": "deleteProducerMediaByType",
				"parameters": [
					{
						"in": "path",
						"name": "producerUuid",
						"description": "Identifiant du producteur",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						},
						"example": "5596b5b2-b227-4c74-a9a1-719e7c1008c7"
					},
					{
						"in": "path",
						"name": "kindOfData",
						"description": "Type de média",
						"required": true,
						"schema": {
							"$ref": "KindOfData"
						},
						"example": "LOGO"
					}
				],
				"responses": {
					"204": {
						"description": "Le média du producteur a été supprimé avec succès."
					},
					"400": {
						"description": "La requête est incorrecte et doit être corrigée avant de réessayer."
					},
					"500": {
						"description": "Erreur interne du serveur. Contacter un développeur pour avoir plus d'informations sur la cause de l'erreur."
					}
				}
			}
		},
		"/addressRoles": {
			"get": {
				"tags": [
					"strukture"
				],
				"summary": "Collection de role",
				"description": "Retourne une liste de role",
				"operationId": "searchAddressRoles",
				"parameters": [
					{
						"in": "query",
						"name": "active",
						"description": "Elements actif ou tous",
						"required": false,
						"schema": {
							"type": "boolean"
						}
					},
					{
						"in": "query",
						"name": "type",
						"description": "Type du rôle",
						"required": false,
						"schema": {
							"$ref": "rudi-strukture-model.json#/components/schemas/AddressType"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"type": "array",
									"items": {
										"$ref": "rudi-strukture-model.json#/components/schemas/AddressRole"
									}
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"post": {
				"tags": [
					"strukture"
				],
				"summary": "Ajout d'un nouveau role",
				"description": "Permet d'ajouter un nouveau role",
				"operationId": "createAddressRole",
				"requestBody": {
					"description": "info role",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "rudi-strukture-model.json#/components/schemas/AddressRole"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/AddressRole"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"put": {
				"tags": [
					"strukture"
				],
				"summary": "Mise à jour d'un role",
				"description": "Mise à jour d'un role",
				"operationId": "updateAddressRole",
				"requestBody": {
					"description": "info role",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "rudi-strukture-model.json#/components/schemas/AddressRole"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/AddressRole"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			}
		},
		"/addressRoles/{uuid}": {
			"get": {
				"tags": [
					"strukture"
				],
				"summary": "Retourne un role",
				"description": "Retourne un role",
				"operationId": "getAddressRole",
				"parameters": [
					{
						"name": "uuid",
						"in": "path",
						"description": "uuid role",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/AddressRole"
								}
							}
						}
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			},
			"delete": {
				"tags": [
					"strukture"
				],
				"summary": "Suppression d'un role",
				"description": "Suppression d'un role",
				"operationId": "deleteAddressRole",
				"parameters": [
					{
						"name": "uuid",
						"in": "path",
						"description": "uuid role",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK"
					},
					"500": {
						"description": "Internal server error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				}
			}
		},
		"/organizations": {
			"post": {
				"tags": [
					"organization"
				],
				"summary": "Ajout d'une nouvelle organisation",
				"description": "Permet d'ajouter une nouvelle organisation",
				"operationId": "createOrganization",
				"requestBody": {
					"description": "infos de l'organisation",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "rudi-strukture-model.json#/components/schemas/Organization"
							}
						}
					}
				},
				"responses": {
					"201": {
						"description": "Organisation créée avec succès",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/Organization"
								}
							}
						}
					},
					"409": {
						"description": "Une organisation possédant cet UUID existe déjà."
					},
					"500": {
						"$ref": "#/components/responses/ServiceUnavailable"
					}
				}
			},
			"get": {
				"tags": [
					"organization"
				],
				"summary": "Collection d'organisations",
				"description": "Retourne une liste d'organisations",
				"operationId": "searchOrganizations",
				"parameters": [
					{
						"in": "query",
						"name": "uuid",
						"required": false,
						"schema": {
							"$ref": "rudi-strukture-model.json#/components/schemas/OrganizationUuidParam"
						}
					},
					{
						"in": "query",
						"name": "name",
						"required": false,
						"schema": {
							"$ref": "rudi-strukture-model.json#/components/schemas/OrganizationNameParam"
						}
					},
					{
						"in": "query",
						"name": "active",
						"required": false,
						"schema": {
							"$ref": "rudi-strukture-model.json#/components/schemas/OrganizationActiveParam"
						}
					},
					{
						"in": "query",
						"name": "user_uuid",
						"required": false,
						"schema": {
							"$ref": "rudi-strukture-model.json#/components/schemas/OrganizationUserUuidParam"
						}
					},
					{
						"$ref": "#/components/parameters/OffsetParam"
					},
					{
						"$ref": "#/components/parameters/LimitParam"
					},
					{
						"$ref": "#/components/parameters/OrderParam"
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/PagedOrganizationList"
								}
							}
						}
					},
					"500": {
						"$ref": "#/components/responses/ServiceUnavailable"
					}
				}
			},
			"put": {
				"tags": [
					"organization"
				],
				"summary": "Mise à jour d'une organisation",
				"description": "Mise à jour d'une organisation",
				"operationId": "updateOrganization",
				"requestBody": {
					"description": "infos de l'organisation",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "rudi-strukture-model.json#/components/schemas/Organization"
							}
						}
					}
				},
				"responses": {
					"204": {
						"description": "Organisation modifiée avec succès"
					},
					"500": {
						"$ref": "#/components/responses/ServiceUnavailable"
					}
				}
			}
		},
		"/organizations/{uuid}": {
			"get": {
				"tags": [
					"organization"
				],
				"summary": "Récupère une organisation",
				"description": "Récupère une organisation donnée via son UUID",
				"operationId": "getOrganization",
				"parameters": [
					{
						"in": "path",
						"name": "uuid",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/Organization"
								}
							}
						}
					},
					"500": {
						"$ref": "#/components/responses/InternalServerError"
					}
				}
			},
			"delete": {
				"tags": [
					"organization"
				],
				"summary": "Supprime une organisation",
				"description": "Supprime une organisation via son UUID",
				"operationId": "deleteOrganization",
				"parameters": [
					{
						"in": "path",
						"name": "uuid",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"204": {
						"description": "Organisation supprimée avec succès"
					},
					"400": {
						"$ref": "#/components/responses/BadRequestError"
					},
					"401": {
						"$ref": "#/components/responses/Unauthorized"
					},
					"403": {
						"$ref": "#/components/responses/Forbidden"
					},
					"406": {
						"$ref": "#/components/responses/NotAcceptable"
					},
					"408": {
						"$ref": "#/components/responses/RequestTimeout"
					},
					"429": {
						"$ref": "#/components/responses/TooManyRequests"
					},
					"500": {
						"$ref": "#/components/responses/InternalServerError"
					},
					"503": {
						"$ref": "#/components/responses/ServiceUnavailable"
					}
				}
			}
		},
		"/organizations/{organizationUuid}/is-administrator": {
			"get": {
				"tags": [
					"organization"
				],
				"summary": "Vérifie si l'utilisateur connecté est membre administrateur de l'organisation",
				"description": "Vérifie si l'utilisateur connecté est membre administrateur de l'organisation",
				"operationId": "isConnectedUserOrganizationAdministrator",
				"parameters": [
					{
						"in": "path",
						"name": "organizationUuid",
						"description": "L'UUID de l'organisation",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Si l'utilisateur connecté est administrateur de l'organisation",
						"content": {
							"application/json": {
								"schema": {
									"type": "boolean"
								}
							}
						}
					},
					"500": {
						"$ref": "#/components/responses/ServiceUnavailable"
					}
				}
			}
		},
		"/organizations/{organizationUuid}/members": {
			"post": {
				"tags": [
					"organization"
				],
				"summary": "Ajout d'un membre à une organisation",
				"description": "Permet d'ajouter un membre à une organisation",
				"operationId": "addOrganizationMember",
				"parameters": [
					{
						"in": "path",
						"name": "organizationUuid",
						"description": "L'UUID de l'organisation",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"requestBody": {
					"description": "Informations sur le membre",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "rudi-strukture-model.json#/components/schemas/OrganizationMember"
							}
						}
					}
				},
				"responses": {
					"201": {
						"description": "Membre ajouté à l'organisation avec succès",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/OrganizationMember"
								}
							}
						}
					},
					"500": {
						"$ref": "#/components/responses/ServiceUnavailable"
					}
				}
			},
			"get": {
				"tags": [
					"organization"
				],
				"summary": "Liste les membres d'une organisation",
				"description": "Liste les membres d'une organisation",
				"operationId": "getOrganizationMembers",
				"parameters": [
					{
						"in": "path",
						"name": "organizationUuid",
						"description": "L'UUID de l'organisation",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Liste des membres de l'organisation",
						"content": {
							"application/json": {
								"schema": {
									"type": "array",
									"items": {
										"$ref": "rudi-strukture-model.json#/components/schemas/OrganizationMember"
									}
								}
							}
						}
					},
					"500": {
						"$ref": "#/components/responses/ServiceUnavailable"
					}
				}
			}
		},
		"/organizations/{organizationUuid}/members/{userUuid}": {
			"delete": {
				"tags": [
					"organization"
				],
				"summary": "Retire un membre d'une organisation",
				"description": "Retire un membre d'une organisation",
				"operationId": "removeOrganizationMember",
				"parameters": [
					{
						"in": "path",
						"name": "organizationUuid",
						"description": "L'UUID de l'organisation",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					},
					{
						"in": "path",
						"name": "userUuid",
						"description": "L'UUID de l'utilisateur dans ACL",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"204": {
						"description": "Membre retiré de l'organisation avec succès"
					},
					"500": {
						"$ref": "#/components/responses/ServiceUnavailable"
					}
				}
			},
			"put": {
				"tags": [
					"organization"
				],
				"summary": "Modifie un membre d'une organisation",
				"description": "Modifie un membre d'une organisation",
				"operationId": "updateOrganizationMember",
				"parameters": [
					{
						"in": "path",
						"name": "organizationUuid",
						"description": "L'UUID de l'organisation",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					},
					{
						"in": "path",
						"name": "userUuid",
						"description": "L'UUID de l'utilisateur dans ACL",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"requestBody": {
					"description": "infos de l'organization member",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "rudi-strukture-model.json#/components/schemas/OrganizationMember"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "L'utilisateur a été correctement modifié",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/OrganizationMember"
								}
							}
						}
					},
					"500": {
						"$ref": "#/components/responses/ServiceUnavailable"
					}
				}
			}
		},
		"/organizations/{organizationUuid}/user-members": {
			"get": {
				"tags": [
					"organization"
				],
				"summary": "Recherche des membres d'une organisation",
				"description": "Recherche des membres d'une organisation",
				"operationId": "searchOrganizationUserMembers",
				"parameters": [
					{
						"in": "path",
						"name": "organizationUuid",
						"required": true,
						"schema": {
							"$ref": "rudi-strukture-model.json#/components/schemas/OrganizationUuidParam"
						}
					},
					{
						"in": "query",
						"name": "search_text",
						"required": false,
						"schema": {
							"$ref": "rudi-strukture-model.json#/components/schemas/TextParam"
						}
					},
					{
						"in": "query",
						"name": "member_type",
						"required": false,
						"schema": {
							"$ref": "rudi-strukture-model.json#/components/schemas/OrganizationMemberType"
						}
					},
					{
						"$ref": "#/components/parameters/OffsetParam"
					},
					{
						"$ref": "#/components/parameters/LimitParam"
					},
					{
						"$ref": "#/components/parameters/OrderParam"
					}
				],
				"responses": {
					"200": {
						"description": "Liste des membres de l'organisation enrichi par leur données utilisateurs",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "rudi-strukture-model.json#/components/schemas/PagedOrganizationUserMembers"
								}
							}
						}
					},
					"500": {
						"$ref": "#/components/responses/ServiceUnavailable"
					}
				}
			}
		},
		"/organizations/{organizationUuid}/user": {
			"get": {
				"tags": [
					"organization"
				],
				"summary": "Récupère l'utilisateur correspondant à une organisation.",
				"description": "Récupère l'utilisateur correspondant à une organisation. La correspondance se fait entre le login de l'utilisateur et l'UUID de l'organisation.",
				"operationId": "getOrganizationUserFromOrganizationUuid",
				"parameters": [
					{
						"in": "path",
						"name": "organizationUuid",
						"description": "L'UUID de l'organisation",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "L'utilisateur correspondant à l'organisation.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "../../../rudi-facet/rudi-facet-acl/openapi/rudi-acl-model.json#/components/schemas/User"
								}
							}
						}
					},
					"500": {
						"$ref": "#/components/responses/ServiceUnavailable"
					}
				}
			}
		},
		"/organizations/{organizationUuid}/password": {
			"put": {
				"tags": [
					"organization"
				],
				"summary": "Modifie le mot de passe de l'utilisateur de l'organisation. ",
				"description": "Modifie le mot de passe de l'utilisateur de l'organisation. La correspondance se fait entre le login de l'utilisateur et l'UUID de l'organisation.",
				"operationId": "updateUserOrganizationPassword",
				"parameters": [
					{
						"in": "path",
						"name": "organizationUuid",
						"description": "L'UUID de l'organisation",
						"required": true,
						"schema": {
							"type": "string",
							"format": "uuid"
						}
					}
				],
				"requestBody": {
					"description": "Informations de changement de mot de passe",
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "rudi-strukture-model.json#/components/schemas/PasswordUpdate"
							}
						}
					}
				},
				"responses": {
					"204": {
						"description": "OK"
					},
					"500": {
						"$ref": "#/components/responses/ServiceUnavailable"
					}
				}
			}
		}
	},
	"components": {
		"parameters": {
			"LimitParam": {
				"in": "query",
				"name": "limit",
				"description": "Le nombre de résultats à retourner par page",
				"required": false,
				"schema": {
					"type": "integer",
					"format": "int32"
				}
			},
			"OffsetParam": {
				"in": "query",
				"name": "offset",
				"description": "Index de début (positionne le curseur pour parcourir les résultats de la recherche)",
				"required": false,
				"schema": {
					"type": "integer",
					"format": "int32"
				}
			},
			"OrderParam": {
				"in": "query",
				"name": "order",
				"required": false,
				"schema": {
					"type": "string"
				}
			}
		},
		"responses": {
			"InternalServerError": {
				"description": "Internal server error"
			},
			"BadRequestError": {
				"description": "Bad Request Error",
				"content": {
					"application/json": {
						"schema": {
							"$ref": "#/components/schemas/ApiError"
						}
					}
				}
			},
			"Unauthorized": {
				"description": "Unauthorized",
				"content": {
					"application/json": {
						"schema": {
							"$ref": "#/components/schemas/ApiError"
						}
					}
				}
			},
			"Forbidden": {
				"description": "Forbidden",
				"content": {
					"application/json": {
						"schema": {
							"$ref": "#/components/schemas/ApiError"
						}
					}
				}
			},
			"NotAcceptable": {
				"description": "Not Acceptable",
				"content": {
					"application/json": {
						"schema": {
							"$ref": "#/components/schemas/ApiError"
						}
					}
				}
			},
			"RequestTimeout": {
				"description": "Request Timeout",
				"content": {
					"application/json": {
						"schema": {
							"$ref": "#/components/schemas/ApiError"
						}
					}
				}
			},
			"TooManyRequests": {
				"description": "Too Many Requests",
				"content": {
					"application/json": {
						"schema": {
							"$ref": "#/components/schemas/ApiError"
						}
					}
				}
			},
			"ServiceUnavailable": {
				"description": "Service Unavailable"
			}
		},
		"schemas": {
			"ApiError": {
				"type": "object",
				"properties": {
					"code": {
						"type": "string"
					},
					"label": {
						"type": "string"
					}
				}
			},
			"AppInfo": {
				"type": "object",
				"properties": {
					"version": {
						"type": "string",
						"description": "Numéro de version de l'application"
					},
					"comment": {
						"type": "string",
						"description": "Description de la version de l'application"
					}
				}
			},
			"RudiDate": {
				"description": "Date in the ISO 8601 format",
				"type": "string",
				"format": "date-time"
			}
		}
	}
}
